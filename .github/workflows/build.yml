name: Build

on:
    workflow_dispatch:
        inputs:
            ref:
                description: "Branch or tag ref"
                required: false
                default: "main"

env:
    JAVA_VERSION: "23"

jobs:
    build:
        name: Build
        runs-on: ubuntu-latest
        steps:
            - name: Checkout code
              uses: actions/checkout@v4
              with:
                  ref: ${{ github.event.inputs.ref }}

            - name: Set up JDK ${{ env.JAVA_VERSION }}
              uses: actions/setup-java@v4
              with:
                  distribution: "temurin"
                  java-version: ${{ env.JAVA_VERSION }}
                  cache: "maven" # Enables caching for faster builds

            - name: Build with Maven
              run: mvn -B package --file pom.xml
